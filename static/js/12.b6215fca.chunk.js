(this["webpackJsonpshockwallet-web"]=this["webpackJsonpshockwallet-web"]||[]).push([[12,13,15],{126:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u}));var n=a(2),c=a.n(n),r=a(7),s=a(27),i=function(e){var t=Promise.resolve();return e.forEach((function(e){t=t.then((function(){return e()}))})),t},u=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(s.a)()){e.next=5;break}for(t=r.length,a=new Array(t),n=0;n<t;n++)a[n]=r[n];return e.next=4,Promise.all(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},145:function(e,t,a){},541:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(7),s=a(9),i=a(0),u=a.n(i),l=a(118),o=a.n(l),b=a(117),p=a(34),d=a(14),m=a(1),f=a(282),v=a(119),O=a.n(v),h=(a(120),a(134)),j=a(35),E=(a(145),function(e){var t=e.icon,a=void 0===t?"link":t,n=e.text;return e.visible?u.a.createElement("div",{className:"notice-bar"},u.a.createElement("i",{className:"fas fa-".concat(a)}),n):null});t.default=function(e){var t,a=e.sharedPostId,n=e.sharerPublicKey,l=e.sharerUsername,v=e.sharerAvatar,k=e.sharedTimestamp,g=e.isOnlineNode,w=e.postID,N=e.postPublicKey,P=e.pinned,x=Object(p.b)(),y=Object(i.useState)(!0),I=Object(s.a)(y,2),C=I[0],K=I[1],V=Object(i.useState)(null),A=Object(s.a)(V,2),D=A[0],S=A[1],J=Object(i.useState)(null),L=Object(s.a)(J,2),T=L[0],U=L[1];Object(i.useEffect)((function(){Object(m.h)({path:"posts/".concat(a,"/tipCounter"),gunPointer:Object(m.g)(n),callback:function(e){x(Object(d.l)({postID:a,data:{tipCounter:e}}))}}),Object(m.h)({path:"posts/".concat(a,"/tipValue"),gunPointer:Object(m.g)(n),callback:function(e){x(Object(d.l)({postID:a,data:{tipValue:e}}))}})}),[x,a,n]);var q=Object(i.useCallback)(Object(r.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K(!0),N){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all([Object(d.b)({publicKey:N,includeAvatar:!0}),Object(d.f)({id:w,gunPointer:Object(m.g)(N)})]);case 5:t=e.sent,a=Object(s.a)(t,2),n=a[0],r=a[1],U(n),S(r),K(!1),Object(h.a)([r],!1);case 13:case"end":return e.stop()}}),e)}))),[w,N]);return Object(i.useEffect)((function(){b.a.rebuild(),q()}),[q]),u.a.createElement("div",{className:"post shared-post"},u.a.createElement(E,{text:"Linked post",visible:P}),u.a.createElement("div",{className:"head"},u.a.createElement("div",{className:"user"},u.a.createElement("div",{className:"av",style:{backgroundImage:"url(".concat(v,")")}}),u.a.createElement("div",{className:"details"},u.a.createElement("p",null,l),u.a.createElement("p",null,o.a.utc(k).fromNow())))),u.a.createElement("div",{className:"shared-content"},C?u.a.createElement(j.a,{text:"Loading Post..."}):D&&T?u.a.createElement(f.default,{id:D.id,timestamp:D.date,avatar:T.avatar?"data:image/png;base64,".concat(T.avatar):O.a,tipCounter:D.tipCounter,tipValue:D.tipValue,publicKey:N,contentItems:D.contentItems,username:null!==(t=T.displayName)&&void 0!==t?t:T.alias,isOnlineNode:g,shared:!0,pinned:P}):null))}}}]);
//# sourceMappingURL=12.b6215fca.chunk.js.map