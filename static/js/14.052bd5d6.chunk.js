(this["webpackJsonpshockwallet-web"]=this["webpackJsonpshockwallet-web"]||[]).push([[14,13],{341:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(6),r=a(8),l=a(0),i=a.n(l),u=a(113),o=a.n(u),b=a(112),p=a(32),d=a(13),m=a(1),O=a(275),j=a(114),h=a.n(j),v=(a(115),a(121)),f=a(33),E=a(134);t.default=function(e){var t,a=e.sharedPostId,n=e.sharerPublicKey,u=e.sharerUsername,j=e.sharerAvatar,g=e.sharedTimestamp,k=e.isOnlineNode,N=e.postID,w=e.postPublicKey,P=e.pinned,I=Object(p.b)(),y=Object(l.useState)(!0),x=Object(r.a)(y,2),C=x[0],K=x[1],V=Object(l.useState)(null),D=Object(r.a)(V,2),S=D[0],A=D[1],J=Object(l.useState)(null),L=Object(r.a)(J,2),T=L[0],U=L[1];Object(l.useEffect)((function(){Object(m.h)({path:"posts/".concat(a,"/tipCounter"),gunPointer:Object(m.g)(n),callback:function(e){I(Object(d.l)({postID:a,data:{tipCounter:e}}))}}),Object(m.h)({path:"posts/".concat(a,"/tipValue"),gunPointer:Object(m.g)(n),callback:function(e){I(Object(d.l)({postID:a,data:{tipValue:e}}))}})}),[I,a,n]);var q=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K(!0),w){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all([Object(d.b)({publicKey:w,includeAvatar:!0}),Object(d.f)({id:N,gunPointer:Object(m.g)(w)})]);case 5:t=e.sent,a=Object(r.a)(t,2),n=a[0],s=a[1],U(n),A(s),K(!1),Object(v.a)([s],!1);case 13:case"end":return e.stop()}}),e)}))),[N,w]);return Object(l.useEffect)((function(){b.a.rebuild(),q()}),[q]),i.a.createElement("div",{className:"post shared-post"},i.a.createElement(E.a,{text:"Linked post",visible:P}),i.a.createElement("div",{className:"head"},i.a.createElement("div",{className:"user"},i.a.createElement("div",{className:"av",style:{backgroundImage:"url(".concat(j,")")}}),i.a.createElement("div",{className:"details"},i.a.createElement("p",null,u),i.a.createElement("p",null,o.a.utc(g).fromNow())))),i.a.createElement("div",{className:"shared-content"},C?i.a.createElement(f.a,{text:"Loading Post..."}):S&&T?i.a.createElement(O.default,{id:S.id,timestamp:S.date,avatar:T.avatar?"data:image/png;base64,".concat(T.avatar):h.a,tipCounter:S.tipCounter,tipValue:S.tipValue,publicKey:w,contentItems:S.contentItems,username:null!==(t=T.displayName)&&void 0!==t?t:T.alias,isOnlineNode:k,shared:!0,pinned:P}):null))}}}]);
//# sourceMappingURL=14.052bd5d6.chunk.js.map