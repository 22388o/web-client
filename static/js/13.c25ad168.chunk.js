(this["webpackJsonpshockwallet-web"]=this["webpackJsonpshockwallet-web"]||[]).push([[13],{145:function(e,t,a){},540:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(7),r=a(9),l=a(0),i=a.n(l),u=a(118),o=a.n(u),b=a(117),p=a(34),d=a(14),m=a(1),O=a(281),v=a(119),f=a.n(v),j=(a(120),a(134)),h=a(35),E=(a(145),function(e){var t=e.icon,a=void 0===t?"link":t,n=e.text;return e.visible?i.a.createElement("div",{className:"notice-bar"},i.a.createElement("i",{className:"fas fa-".concat(a)}),n):null});t.default=function(e){var t,a=e.sharedPostId,n=e.sharerPublicKey,u=e.sharerUsername,v=e.sharerAvatar,k=e.sharedTimestamp,N=e.isOnlineNode,g=e.postID,w=e.postPublicKey,P=e.pinned,I=Object(p.b)(),x=Object(l.useState)(!0),y=Object(r.a)(x,2),C=y[0],K=y[1],V=Object(l.useState)(null),D=Object(r.a)(V,2),S=D[0],A=D[1],J=Object(l.useState)(null),L=Object(r.a)(J,2),T=L[0],U=L[1];Object(l.useEffect)((function(){Object(m.h)({path:"posts/".concat(a,"/tipCounter"),gunPointer:Object(m.g)(n),callback:function(e){I(Object(d.l)({postID:a,data:{tipCounter:e}}))}}),Object(m.h)({path:"posts/".concat(a,"/tipValue"),gunPointer:Object(m.g)(n),callback:function(e){I(Object(d.l)({postID:a,data:{tipValue:e}}))}})}),[I,a,n]);var q=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K(!0),w){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all([Object(d.b)({publicKey:w,includeAvatar:!0}),Object(d.f)({id:g,gunPointer:Object(m.g)(w)})]);case 5:t=e.sent,a=Object(r.a)(t,2),n=a[0],s=a[1],U(n),A(s),K(!1),Object(j.a)([s],!1);case 13:case"end":return e.stop()}}),e)}))),[g,w]);return Object(l.useEffect)((function(){b.a.rebuild(),q()}),[q]),i.a.createElement("div",{className:"post shared-post"},i.a.createElement(E,{text:"Linked post",visible:P}),i.a.createElement("div",{className:"head"},i.a.createElement("div",{className:"user"},i.a.createElement("div",{className:"av",style:{backgroundImage:"url(".concat(v,")")}}),i.a.createElement("div",{className:"details"},i.a.createElement("p",null,u),i.a.createElement("p",null,o.a.utc(k).fromNow())))),i.a.createElement("div",{className:"shared-content"},C?i.a.createElement(h.a,{text:"Loading Post..."}):S&&T?i.a.createElement(O.default,{id:S.id,timestamp:S.date,avatar:T.avatar?"data:image/png;base64,".concat(T.avatar):f.a,tipCounter:S.tipCounter,tipValue:S.tipValue,publicKey:w,contentItems:S.contentItems,username:null!==(t=T.displayName)&&void 0!==t?t:T.alias,isOnlineNode:N,shared:!0,pinned:P}):null))}}}]);
//# sourceMappingURL=13.c25ad168.chunk.js.map