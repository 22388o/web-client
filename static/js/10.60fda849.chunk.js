(this["webpackJsonpshockwallet-web"]=this["webpackJsonpshockwallet-web"]||[]).push([[10,15],{118:function(e,t,a){e.exports=a.p+"static/media/av1.48bf5c6a.jpg"},125:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a(2),c=a.n(n),r=a(7),i=a(26),s=function(e){var t=Promise.resolve();return e.forEach((function(e){t=t.then((function(){return e()}))})),t},l=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(i.a)()){e.next=5;break}for(t=r.length,a=new Array(t),n=0;n<t;n++)a[n]=r[n];return e.next=4,Promise.all(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},134:function(e,t,a){"use strict";var n=a(8),c=a(0),r=a(33),i=a(117),s=a.n(i),l=a(1);t.a=function(e){var t=Object(r.b)(),a=Object(r.c)((function(e){return e.user.profile})),i=Object(c.useState)(),o=Object(n.a)(i,2),u=o[0],b=o[1],m=Object(c.useState)(),d=Object(n.a)(m,2),p=d[0],f=d[1],O=Object(c.useState)(!1),v=Object(n.a)(O,2),j=v[0],g=v[1],E=Object(c.useState)(!1),h=Object(n.a)(E,2),k=h[0],y=h[1],N=Object(c.useState)(),P=Object(n.a)(N,2),x=P[0],w=P[1],S=Object(c.useCallback)((function(){var e=s.a.utc().subtract(1,"minutes"),t=!!p&&s.a.utc(p).isSameOrAfter(e),a=!!u&&s.a.utc(u).isSameOrAfter(e);y(t),g(a)}),[u,p]);return Object(c.useEffect)((function(){x&&clearTimeout(x),S();var e=setTimeout((function(){S()}),3e4);return w(e),function(){return clearTimeout(x)}}),[a,S]),Object(c.useEffect)((function(){var t=Object(l.h)({path:"Profile/lastSeenApp",gunPointer:Object(l.g)(e),callback:function(e){b(e)}}),a=Object(l.h)({path:"Profile/lastSeenNode",gunPointer:Object(l.g)(e),callback:function(e){f(e)}});return function(){t.off(),a.off()}}),[t,e]),{isOnlineApp:j,isOnlineNode:k}}},135:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(33),i=a(16),s=a(34),l=(a(136),c.a.lazy((function(){return Promise.all([a.e(2),a.e(9),a.e(14)]).then(a.bind(null,176))})));t.a=function(e){var t=Object(r.b)(),a=Object(r.c)((function(e){return e.tip.modalOpen})),o=Object(n.useCallback)((function(){t(Object(i.b)())}),[t]),u=Object(n.useMemo)((function(){return c.a.createElement(s.a,{text:"Loading..."})}),[]);return a?c.a.createElement("div",{className:"modal-container"},c.a.createElement("div",{className:"modal-overlay",onClick:o}),c.a.createElement("div",{className:"modal-content"},c.a.createElement(n.Suspense,{fallback:u},c.a.createElement(l,e)))):null}},136:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){e.exports=a.p+"static/media/banner-bg.f59337b5.jpg"},283:function(e,t,a){e.exports=a.p+"static/media/lightning-logo.ea3bd789.svg"},284:function(e,t,a){},544:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(7),i=a(8),s=a(0),l=a.n(s),o=a(33),u=a(6),b=a(116),m=a(36),d=a(14),p=a(16),f=a(134),O=a(1),v=a(125),j=a(34),g=(a(281),function(e){var t=e.text;return l.a.createElement("div",{className:"divider-container"},l.a.createElement("div",{className:"dash"}),l.a.createElement("p",{className:"divider-text"},t),l.a.createElement("div",{className:"dash"}))}),E=a(135),h=a(282),k=a.n(h),y=a(118),N=a.n(y),P=a(283),x=a.n(P),w=(a(284),l.a.lazy((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,280))}))),S=l.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(13)]).then(a.bind(null,539))}));t.default=function(){var e=Object(o.b)(),t=Object(u.h)(),a=t.userId,n=Object(o.c)((function(e){return e.user.wall})),h=Object(o.c)((function(e){return e.user.profile})),y=Object(f.a)(a),P=y.isOnlineApp,C=y.isOnlineNode,I=Object(s.useState)(!0),A=Object(i.a)(I,2),L=A[0],T=A[1],K=Object(s.useState)(!0),M=Object(i.a)(K,2),z=M[0],B=M[1],J=Object(s.useMemo)((function(){var e;return null!==(e=h.displayName)&&void 0!==e?e:h.alias}),[h]),R=Object(s.useCallback)(Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,T(!0),e(Object(d.i)()),t.next=5,e(Object(d.g)(a));case 5:return t.next=7,Object(v.a)(e(Object(d.e)(a)),e(Object(d.d)(a)));case 7:T(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),T(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e,a]),V=Object(s.useCallback)(Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Setting Loading status to:",!0),B(!0),e(Object(d.j)()),t.next=6,e(Object(d.h)(a));case 6:console.log("Setting Loading status to:",!1),B(!1),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),console.log("Setting Loading status to:",!1),B(!1);case 15:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e,a]),D=Object(s.useCallback)((function(){e(Object(p.c)({targetType:"spontaneousPayment"}))}),[e]),F=Object(s.useCallback)(Object(r.a)(c.a.mark((function a(){var n,r,i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.postId,r=t.userId,i=t.type,a.next=3,R();case 3:V(),e(Object(d.c)({postId:n,publicKey:r,type:i}));case 5:case"end":return a.stop()}}),a)}))),[e,R,V,t]),U=Object(s.useCallback)((function(e){if(e){var t,n,c=h.avatar?"data:image/png;base64,".concat(h.avatar):N.a;if("shared"===e.type)return l.a.createElement(s.Suspense,{fallback:l.a.createElement("div",{className:"post-loading"},l.a.createElement(j.a,{text:"Loading Post..."})),key:e.id},l.a.createElement(S,{postID:e.id,postPublicKey:e.originalAuthor,sharedPostId:e.id,sharedTimestamp:e.date,sharerAvatar:c,sharerPublicKey:a,sharerUsername:J,isOnlineNode:C,pinned:e.pinned}));if("post"===e.type)return l.a.createElement(s.Suspense,{fallback:l.a.createElement("div",{className:"post-loading"},l.a.createElement(j.a,{text:"Loading Post..."})),key:e.id},l.a.createElement(w,{timestamp:e.date,contentItems:e.contentItems,username:J,avatar:c,publicKey:a,page:e.page,id:e.id,tipValue:null!==(t=e.tipValue)&&void 0!==t?t:0,tipCounter:null!==(n=e.tipCounter)&&void 0!==n?n:0,isOnlineNode:C,pinned:e.pinned,post:e}))}}),[C,h.avatar,a,J]);return Object(s.useEffect)((function(){F();var t=Object(O.h)({path:"Profile/displayName",gunPointer:Object(O.g)(a),callback:function(t){e(Object(d.k)({displayName:t}))}}),n=Object(O.h)({path:"Profile/bio",gunPointer:Object(O.g)(a),callback:function(t){e(Object(d.k)({bio:t}))}});return function(){t.off(),n.off()}}),[e,F,a]),Object(s.useEffect)((function(){L||(window.prerenderReady=!0)}),[L]),l.a.createElement("div",{className:"user-page"},l.a.createElement(m.b,null,l.a.createElement("meta",{property:"og:title",content:J}),l.a.createElement("meta",{property:"twitter:title",content:J}),l.a.createElement("meta",{property:"og:description",content:h.bio})),l.a.createElement("div",{className:"top-banner",style:{backgroundImage:"url(".concat(h.header?"data:image/png;base64,".concat(h.header):k.a,")")}}),l.a.createElement("div",{className:"user-details"},l.a.createElement("div",{className:"main-av",style:{backgroundImage:"url(".concat(h.avatar?"data:image/png;base64,".concat(h.avatar):N.a,")")}}),l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"user-info"},l.a.createElement("p",{className:"username"},J),l.a.createElement("div",{className:"activity"},l.a.createElement("p",{className:"status",style:{color:P?"#01a33d":C?"#f2a900":"#888"}},P?"Active Recently":C?"Node Online":"Node Offline")),h.bio?l.a.createElement("div",{className:"desc"},l.a.createElement("p",{className:"title"},"Bio"),l.a.createElement("p",null,h.bio)):null),l.a.createElement("div",{className:"send-tip-btn",onClick:D,style:{opacity:C?1:.5,cursor:C?"pointer":"default"},"data-tip":C?null:"You can only tip users with online nodes"},l.a.createElement("img",{src:x.a,alt:"Bitcoin Lightning"}),l.a.createElement("p",null,"Send Tip")),l.a.createElement(b.a,{backgroundColor:"#3a4d67",effect:"solid"}))),l.a.createElement("div",{className:"tabs-holder"},l.a.createElement("p",{className:"tab active"},"Feed")),l.a.createElement("div",{className:"posts-holder"},U(n.pinnedPost),n.pinnedPost&&l.a.createElement(g,{text:"More Posts"}),n.posts.map(U)),z?l.a.createElement(j.a,{text:"Loading ".concat(n.page>=0?"More":"Wall"," Posts...")}):null,l.a.createElement(E.a,{publicKey:a}))}}}]);
//# sourceMappingURL=10.60fda849.chunk.js.map