(this["webpackJsonpshockwallet-web"]=this["webpackJsonpshockwallet-web"]||[]).push([[5],{450:function(e,a,t){},452:function(e,a,t){"use strict";t.r(a);var c=t(9),n=t(0),l=t.n(n),r=t(148),o=t.n(r),i=t(33),s=t(32),m=t(451),u=t(449),d=t.n(u),p=t(11),b=(t(450),t(1));a.default=function(e){var a=e.id,t=e.timestamp,r=e.avatar,u=e.page,f=e.tipCounter,v=e.tipValue,E=e.publicKey,N=e.openTipModal,O=e.contentItems,g=void 0===O?{}:O,j=e.username,k=(e.webTorrentClient,e.isOnlineNode),y=Object(s.b)(),h=Object(m.useEmblaCarousel)({slidesToScroll:1,align:"center"}),w=Object(c.a)(h,2),C=w[0],T=w[1],S=Object(n.useState)(0),I=Object(c.a)(S,2),x=I[0],P=I[1],L=Object(n.useState)(0),A=Object(c.a)(L,2),D=A[0],R=A[1],V=function(){return v>0?l.a.createElement("div",{className:"ribbon-container"},l.a.createElement("p",{className:"ribbon-title"},"Total Tips"),l.a.createElement("p",{className:"ribbon-value"},f," ",1===f?"Tip":"Tips")):null},J=function(e,t){var n=Object(c.a)(e,2),r=n[0],o=n[1];return"text/paragraph"===o.type?l.a.createElement("p",{key:r},o.text):"image/embedded"===o.type?l.a.createElement("div",{className:"media-container",key:"".concat(r,"-").concat(t)},l.a.createElement("img",{className:"torrent-img-".concat(a,"-").concat(r),alt:"Post Media","data-torrent":o.magnetURI,"data-file-key":t,key:r}),l.a.createElement(V,null)):"video/embedded"===o.type?l.a.createElement("div",{className:"media-container",key:"".concat(r,"-").concat(t)},l.a.createElement("div",{className:"video-container",style:{cursor:"pointer"}},l.a.createElement("video",{className:"torrent-video torrent-video-".concat(a,"-").concat(r),"data-torrent":o.magnetURI,"data-file-key":t,key:r,controls:!0,"data-played":"false"}),l.a.createElement(V,null))):null},M=Object(n.useCallback)((function(){T&&T.canScrollNext()&&T.scrollNext()}),[T]),U=Object(n.useCallback)((function(){T&&T.canScrollPrev()&&T.scrollPrev()}),[T]),K=Object(n.useCallback)((function(e){if(0!==x){var a=e.key;"ArrowRight"===a&&M(),"ArrowLeft"===a&&U()}}),[x,U,M]),q=Object(n.useCallback)((function(){R(T.selectedScrollSnap())}),[T,R]);Object(n.useEffect)((function(){Object(b.h)({path:"posts/".concat(a,"/tipCounter"),gunPointer:Object(b.g)(E),callback:function(e){y(Object(p.i)({postID:a,data:{tipCounter:e}}))}}),Object(b.h)({path:"posts/".concat(a,"/tipValue"),gunPointer:Object(b.g)(E),callback:function(e){y(Object(p.i)({postID:a,data:{tipValue:e}}))}})}),[y,a,u,E]),Object(n.useEffect)((function(){if(T)return T.on("scroll",q),P(T.scrollSnapList().length),window.addEventListener("keydown",K),function(){window.removeEventListener("keydown",K),T.off("scroll",q)}}),[T,x,K,q]);var z=Object(n.useCallback)((function(){k&&N({targetType:"post",postID:a})}),[a,k,N]);return Object(n.useEffect)((function(){i.a.rebuild()}),[]),l.a.createElement("div",{className:"post"},l.a.createElement("div",{className:"head"},l.a.createElement("div",{className:"user"},l.a.createElement("div",{className:"av",style:{backgroundImage:"url(".concat(r,")")}}),l.a.createElement("div",{className:"details"},l.a.createElement("p",null,j),l.a.createElement("p",null,o.a.utc(t).fromNow())))),l.a.createElement("div",{className:"content"},Object.entries(g).filter((function(e){var a=Object(c.a)(e,2);return a[0],"text/paragraph"===a[1].type})).map(J),l.a.createElement("div",{className:"media-content-carousel"},x>1?l.a.createElement("div",{className:"media-carousel-controls-container"},l.a.createElement("div",{className:"media-carousel-arrow fas fa-angle-left",onClick:U}),l.a.createElement("div",{className:"media-carousel-pages"},Array.from({length:x}).map((function(e,a){return l.a.createElement("div",{className:d()({"media-carousel-page":!0,"active-carousel-page":D===a}),onClick:function(){return null===T||void 0===T?void 0:T.scrollTo(a)}})}))),l.a.createElement("div",{className:"media-carousel-arrow fas fa-angle-right",onClick:M})):null,l.a.createElement("div",{className:"media-content-root",ref:C},l.a.createElement("div",{className:"media-content-container"},Object.entries(g).filter((function(e){var a=Object(c.a)(e,2);return a[0],"text/paragraph"!==a[1].type})).map(J))))),l.a.createElement("div",{className:"actions"},l.a.createElement("div",{className:"icon-tip-btn","data-tip":"Tip this post",onClick:z},l.a.createElement("div",{className:"tip-icon icon-thin-feed"}))))}}}]);
//# sourceMappingURL=5.e14d85f8.chunk.js.map