(this["webpackJsonpshockwallet-web"]=this["webpackJsonpshockwallet-web"]||[]).push([[14],{176:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),o=a(7),i=a(8),l=a(0),s=a.n(l),r=a(33),u=a(140),m=a.n(u),d=a(116),p=a(346),b=a.n(p),f=a(16),O=a(39),v=a(34),E=(a(355),a(1));t.default=function(e){var t=e.publicKey,a=Object(r.b)(),n=Object(r.c)((function(e){return e.auth.pair})),u=Object(r.c)((function(e){return e.tip.paymentRequest})),p=Object(r.c)((function(e){return e.tip.metadata})),j=Object(l.useState)(!1),N=Object(i.a)(j,2),h=N[0],g=N[1],C=Object(l.useState)(10),k=Object(i.a)(C,2),w=k[0],y=k[1],P=Object(l.useState)(!1),I=Object(i.a)(P,2),S=I[0],T=I[1],R=Object(l.useState)(""),q=Object(i.a)(R,2),x=q[0],V=q[1],A=Object(l.useState)(!1),D=Object(i.a)(A,2),J=D[0],K=D[1],Y=Object(l.useCallback)((function(){T(!0),d.a.rebuild();var e=setTimeout((function(){T(!1),d.a.rebuild()}),500);return function(){clearTimeout(e)}}),[]),z=Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,a(Object(f.d)({senderPair:n,recipientPublicKey:t,amount:w,metadata:p}));case 4:o=e.sent,i=o.ackNode,g(!1),i&&V(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[a,V,n,p,t,w]);Object(l.useEffect)((function(){x&&Object(E.f)({path:"orderToResponse/".concat(x),gunPointer:E.c.user(t),method:"on"}).then((function(){return Object(E.f)({path:"orderToResponse/".concat(x),gunPointer:E.c.user(t)})})).then((function(e){"orderAck"===e.type&&K(!0)}))}),[x,t,K]);var L=Object(l.useCallback)((function(){a(Object(f.b)())}),[a]);Object(l.useEffect)((function(){a(Object(O.b)())}),[a]);var Q="";return u&&(Q="paymentRequest"),J&&(Q="done"),s.a.createElement("div",{className:"tip-modal"},h?s.a.createElement("div",{className:"tip-modal-loading"},s.a.createElement(v.a,{text:"Submitting Tip Request..."})):null,s.a.createElement("div",{className:"tip-modal-head"},s.a.createElement("div",{className:"tip-modal-title"},"Send Tip")),""===Q&&s.a.createElement("div",{className:"tip-modal-content"},s.a.createElement("p",{className:"tip-modal-instructions"},"Please specify the amount of sats you'd like to tip this user with below and we'll generate an invoice for you to scan."),s.a.createElement("input",{className:"tip-modal-input",value:w,onChange:function(e){return y(e.target.value)}})),"paymentRequest"===Q&&s.a.createElement("div",{className:"tip-modal-content"},s.a.createElement("p",{className:"tip-modal-instructions"},"We've successfully generated an invoice for you to tip, please scan the QR Code below using a Lightning wallet to pay it!"),s.a.createElement("div",{className:"tip-modal-qr-code-container"},s.a.createElement(b.a,{className:"tip-modal-qr-code",value:u,size:210,bgColor:"#4db1ff",fgColor:"#1b2129"})),s.a.createElement("div",{className:"tip-modal-action-btns"},s.a.createElement("a",{href:"lightning:".concat(u),className:"tip-modal-action-btn"},"PAY INVOICE"),s.a.createElement(m.a,{text:u,onCopy:Y},s.a.createElement("div",{className:"tip-modal-action-btn"},S?"INVOICE COPIED!":"COPY INVOICE")))),"done"===Q&&s.a.createElement("div",{className:"tip-modal-footer",onClick:L},s.a.createElement("div",{className:"tip-modal-submit"},"TIP SENT!")),""===Q&&s.a.createElement("div",{className:"tip-modal-footer",onClick:z},s.a.createElement("div",{className:"tip-modal-submit"},"SEND TIP")))}},355:function(e,t,a){}}]);
//# sourceMappingURL=14.56cee3b2.chunk.js.map